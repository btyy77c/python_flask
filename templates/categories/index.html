{% extends 'layout/index.html' %}

{% block content %}
  <div class='catgeory-index-header'>
    <h2>Categories ({{ categories.__len__() }})</h2>

    <div id='createCategory' class='hidden'>
      <form>
        <input type="text" aria-label="Category Name" name="name" placeholder="Category Name">
        <button>Create Category</button>
      </form>
      <p id='createCategoryErrors'></p>
    </div>
  </div>

  <div class='catgeory-index-list'>
    {% for category in categories %}
      <h3>{{ category.name }}</h3>
      <a href="{{ url_for('CategoryShow', name=category.name) }}">
        <p>View Category</p>
      </a>

      <a href="{{ url_for('ItemIndex', name=category.name) }}">
        <p>View Items</p>
      </a>
    {% endfor %}
  </div>

  <div class='catgeory-index-header'>
    <h2>Latest Items!</h2>
    <div id='createItem' class='hidden'>
      <form>
        <input type="text" aria-label="Item Title" name="title" placeholder="Item Title">

        <textarea aria-label="Item Description" name="description" placeholder="Item Description"></textarea>

        <select>
          {% for category in categories %}
            <option value="{{ category.id }}">{{ category.name }}</option>
          {% endfor %}
        <select>

        <button>Create Item</button>
      </form>
      <p id='itemErrors'></p>
    </div>
  </div>

  <div class='catgeory-index-list'>
    {% for item in items %}
      <h3>{{ item.title }}</h3>
      <a href="{{ url_for('ItemShow', name=item.title) }}">
        <p>View Item</p>
      </a>
    {% endfor %}
  </div>
{% endblock %}
