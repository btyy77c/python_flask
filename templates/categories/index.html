{% extends 'layout/index.html' %}

{% block content %}
  <div class="card">
    <div class="card-content">
      <span class="card-title">Categories ({{ categories.__len__() }})</span>

      <ul class="collection">
        {% for category in categories %}
          <li class="collection-item">
            <h6>{{ category.name }}</h6>

            <a href="{{ url_for('CategoryShow', name=category.name) }}"><p>View Category</p></a>

            <a href="{{ url_for('ItemIndex', name=category.name) }}"><p>View Items</p></a>
          </li>
        {% endfor %}
      </ul>
    </div>

    <div class="card-action">
      <div id='createCategory' class='hidden'>
        <form>
          <input type="text" aria-label="Category Name" name="name" placeholder="Category Name">
          <button class="btn waves-effect waves-light">Create New Category</button>
        </form>
        <p id='createCategoryErrors'></p>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-content">
      <span class="card-title">Latest Items</span>

      <ul class="collection">
        {% for item in items %}
          <li class="collection-item">
            <h6>{{ item.title }}</h6>

            <a href="{{ url_for('ItemShow', title=item.title) }}"><p>View Item</p></a>
          </li>
        {% endfor %}
      </ul>
    </div>

    <div class="card-action">
      <div id='createItem' class='hidden'>
        <form>
          <input type="text" aria-label="Item Title" name="title" placeholder="Item Title">

          <textarea aria-label="Item Description" name="description" placeholder="Item Description"></textarea>

          <select aria-label="Item Category" name="category_id">
            {% for category in categories %}
              <option value="{{ category.id }}">{{ category.name }}</option>
            {% endfor %}
          <select>

          <button class="btn waves-effect waves-light">Create Item</button>
        </form>
        <p id='itemErrors'></p>
      </div>
    </div>
  </div>
{% endblock %}
